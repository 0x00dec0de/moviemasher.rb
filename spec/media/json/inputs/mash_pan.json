{
	"type": "mash",
	"source": {
		"id": "mash_pan",
		"quantize": 10,
		"backcolor": "red",
		"label": "Pan",
		"media": [
			{
				"id": "globe",
				"type": "image",
				"source": "image/square-lg.jpg"
			},
			{
				"id": "cable",
				"type": "image",
				"source": "image/cable.jpg"
			},
			{
				"id": "newt",
				"type": "image",
				"source": "image/newt.jpg"
			},
			{
				"id": "flower",
				"type": "image",
				"source": "image/flower.jpg"
			},
			{
				"label": "Pan",
				"type": "scaler",
				"id": "com.moviemasher.scaler.pan",
				"properties": { 
					"scale": { "type": "size1", "value": 1.25 },
					"direction": { "type": "direction8", "value": 0 }
				},
				"filters": [
					{
						"id": "crop",
						"parameters": [
							{
								"name": "w",
								"value":"mm_min(mm_input_width, mm_input_height)"
							},{
								"name": "h",
								"value":"mm_min(mm_input_width, mm_input_height)"
							},
							{
								"name": "x",
								"value":"(in_w-out_w)/2"
							},
							{
								"name": "y",
								"value":"(in_h-out_h)/2"
							}
						]
					},
					{
						"id": "crop",
						"parameters": [
							{
								"name": "w",
								"value":"in_w/scale"
							},
							{
								"name": "h",
								"value":"in_h/scale"
							},
							{
								"name": "x",
								"value":[
									{
										"condition": "(direction == '0') or (direction == '2')",
										"value": "(in_w-out_w)/2"
									},{
										"condition": "(direction == '1') or (direction == '5')",
										"value": "(in_w-out_w)*mm_t"
									},{
										"condition": "(direction == '4')",
										"value": "ceil((in_w-out_w)*mm_t)"
									},{
										"condition": "(direction == '3') or (direction == '7')",
										"value": "(in_w-out_w)-((in_w-out_w)*mm_t)"
									},{
										"condition": "(direction == '6')",
										"value": "floor(((in_w-out_w)*(1.0-mm_t)))"
									}							
								]
							},{
								"name": "y",
								"value":[
									{
										"condition": "(direction == '1') or (direction == '3')",
										"value": "(in_h-out_h)/2"
									},
									{
										"condition": "(direction == '2') or (direction == '5')",
										"value": "(in_h-out_h)*mm_t"
									},
									{
										"condition": "(direction == '6')",
										"value": "ceil((in_h-out_h)*mm_t)"
									},
									{
										"condition": "(direction == '0') or (direction == '7')",
										"value": "(in_h-out_h)-((in_h-out_h)*mm_t)"
									},
									{
										"condition": "(direction == '4')",
										"value": "floor(((in_h-out_h)*(1.0-mm_t)))"
									}							
								]
							}
						]
					},{
						"id": "crop",
						"parameters": [
							{
								"name": "w",
								"value":"mm_cmp(mm_width, mm_height, in_w, mm_width*(in_h/mm_height))"
							},{
								"name": "h",
								"value":"mm_cmp(mm_width, mm_height, mm_height*(in_w/mm_width), in_h)"
							},
							{
								"name": "x",
								"value":"(in_w-out_w)/2"
							},
							{
								"name": "y",
								"value":"(in_h-out_h)/2"
							}
						]
					},
					{
						"id": "scale",
						"parameters": [
							{
								"name": "width",
								"value":"mm_width"
							},{
								"name": "height",
								"value":"mm_height"
							}
						]
					},
					{
						"id": "setsar",
						"parameters": [
							{
								"name": "sar",
								"value":"1"
							},{
								"name": "max",
								"value":"1"
							}
						]
					}
				]
			}
		],
		"tracks": {
			"video": [
				{
					"type": "video",
					"clips": [{
						"id": "globe",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 0
						},
						"frame": 0,
						"length": 55
					},{
						"id": "globe",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 2
						},
						"frame": 55,
						"length": 55
					},{
						"id": "cable",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 1
						},
						"frame": 110,
						"length": 55
					},{
						"id": "cable",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 3
						},
						"frame": 165,
						"length": 55
					},{
						"id": "flower",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 5
						},
						"frame": 220,
						"length": 55
					},{
						"id": "flower",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 7
						},
						"frame": 275,
						"length": 55
					},{
						"id": "newt",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 4
						},
						"frame": 330,
						"length": 55
					},{
						"id": "newt",
						"scaler": {
							"id": "com.moviemasher.scaler.pan",
							"scale": 1.25,
							"direction": 6
						},
						"frame": 385,
						"length": 55
					}]
				}
			],
			"audio": [
				{
					"type": "audio",
					"clips": []
				}
			]
		}
	}
}