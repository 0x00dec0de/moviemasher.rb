<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>README - RDoc Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body class="file">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  
<div id="table-of-contents">
  <nav class="section">
    <h3 class="section-header">Table of Contents</h3>
    <ul>
      <li><a href="#label-moviemasher.rb">moviemasher.rb</a>
      <li><a href="#label-Overview%3A+FFMpeg+%2B+Mash+%3D+Transcoder">Overview: FFMpeg + Mash = Transcoder</a>
      <li><a href="#label-AWS+Integration">AWS Integration</a>
      <li><a href="#label-Docker+Usage">Docker Usage</a>
      <li><a href="#label-Requirements">Requirements</a>
      <li><a href="#label-How+to+Install">How to Install</a>
      <li><a href="#label-User+Feedback">User Feedback</a>
      <li><a href="#label-Contributing">Contributing</a>
      <li><a href="#label-Developer+Setup">Developer Setup</a>
      <li><a href="#label-Known+issues+in+this+version">Known issues in this version</a>
      <li><a href="#label-Migrating+from+Version+4.0.7">Migrating from Version 4.0.7</a>
    </ul>
  </nav>
</div>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./Changelog.html">Changelog</a>
  
    <li class="file"><a href="./Documentation_md.html">Documentation</a>
  
    <li class="file"><a href="./README_md.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./MovieMasher.html">MovieMasher</a>
  
    <li><a href="./MovieMasher/AV.html">MovieMasher::AV</a>
  
    <li><a href="./MovieMasher/Asset.html">MovieMasher::Asset</a>
  
    <li><a href="./MovieMasher/AwsInitService.html">MovieMasher::AwsInitService</a>
  
    <li><a href="./MovieMasher/AzureInitService.html">MovieMasher::AzureInitService</a>
  
    <li><a href="./MovieMasher/Callback.html">MovieMasher::Callback</a>
  
    <li><a href="./MovieMasher/Chain.html">MovieMasher::Chain</a>
  
    <li><a href="./MovieMasher/ChainBlend.html">MovieMasher::ChainBlend</a>
  
    <li><a href="./MovieMasher/ChainEffects.html">MovieMasher::ChainEffects</a>
  
    <li><a href="./MovieMasher/ChainModule.html">MovieMasher::ChainModule</a>
  
    <li><a href="./MovieMasher/ChainOverlay.html">MovieMasher::ChainOverlay</a>
  
    <li><a href="./MovieMasher/ChainScaler.html">MovieMasher::ChainScaler</a>
  
    <li><a href="./MovieMasher/Clip.html">MovieMasher::Clip</a>
  
    <li><a href="./MovieMasher/Defaults.html">MovieMasher::Defaults</a>
  
    <li><a href="./MovieMasher/Destination.html">MovieMasher::Destination</a>
  
    <li><a href="./MovieMasher/DownloadService.html">MovieMasher::DownloadService</a>
  
    <li><a href="./MovieMasher/Error.html">MovieMasher::Error</a>
  
    <li><a href="./MovieMasher/Error/Configuration.html">MovieMasher::Error::Configuration</a>
  
    <li><a href="./MovieMasher/Error/Critical.html">MovieMasher::Error::Critical</a>
  
    <li><a href="./MovieMasher/Error/Job.html">MovieMasher::Error::Job</a>
  
    <li><a href="./MovieMasher/Error/JobInput.html">MovieMasher::Error::JobInput</a>
  
    <li><a href="./MovieMasher/Error/JobOutput.html">MovieMasher::Error::JobOutput</a>
  
    <li><a href="./MovieMasher/Error/JobRender.html">MovieMasher::Error::JobRender</a>
  
    <li><a href="./MovieMasher/Error/JobSource.html">MovieMasher::Error::JobSource</a>
  
    <li><a href="./MovieMasher/Error/JobSyntax.html">MovieMasher::Error::JobSyntax</a>
  
    <li><a href="./MovieMasher/Error/JobUpload.html">MovieMasher::Error::JobUpload</a>
  
    <li><a href="./MovieMasher/Error/Object.html">MovieMasher::Error::Object</a>
  
    <li><a href="./MovieMasher/Error/Parameter.html">MovieMasher::Error::Parameter</a>
  
    <li><a href="./MovieMasher/Error/Runtime.html">MovieMasher::Error::Runtime</a>
  
    <li><a href="./MovieMasher/Error/State.html">MovieMasher::Error::State</a>
  
    <li><a href="./MovieMasher/Error/Todo.html">MovieMasher::Error::Todo</a>
  
    <li><a href="./MovieMasher/Evaluate.html">MovieMasher::Evaluate</a>
  
    <li><a href="./MovieMasher/FileDownloadService.html">MovieMasher::FileDownloadService</a>
  
    <li><a href="./MovieMasher/FileHelper.html">MovieMasher::FileHelper</a>
  
    <li><a href="./MovieMasher/FileQueueService.html">MovieMasher::FileQueueService</a>
  
    <li><a href="./MovieMasher/FileUploadService.html">MovieMasher::FileUploadService</a>
  
    <li><a href="./MovieMasher/Fill.html">MovieMasher::Fill</a>
  
    <li><a href="./MovieMasher/Filter.html">MovieMasher::Filter</a>
  
    <li><a href="./MovieMasher/FilterEvaluated.html">MovieMasher::FilterEvaluated</a>
  
    <li><a href="./MovieMasher/FilterHash.html">MovieMasher::FilterHash</a>
  
    <li><a href="./MovieMasher/FilterHelpers.html">MovieMasher::FilterHelpers</a>
  
    <li><a href="./MovieMasher/FilterSetpts.html">MovieMasher::FilterSetpts</a>
  
    <li><a href="./MovieMasher/FilterSource.html">MovieMasher::FilterSource</a>
  
    <li><a href="./MovieMasher/FilterSourceColor.html">MovieMasher::FilterSourceColor</a>
  
    <li><a href="./MovieMasher/FilterSourceImage.html">MovieMasher::FilterSourceImage</a>
  
    <li><a href="./MovieMasher/FilterSourceRaw.html">MovieMasher::FilterSourceRaw</a>
  
    <li><a href="./MovieMasher/FilterSourceVideo.html">MovieMasher::FilterSourceVideo</a>
  
    <li><a href="./MovieMasher/FloatUtil.html">MovieMasher::FloatUtil</a>
  
    <li><a href="./MovieMasher/Gain.html">MovieMasher::Gain</a>
  
    <li><a href="./MovieMasher/Graph.html">MovieMasher::Graph</a>
  
    <li><a href="./MovieMasher/GraphMash.html">MovieMasher::GraphMash</a>
  
    <li><a href="./MovieMasher/GraphRaw.html">MovieMasher::GraphRaw</a>
  
    <li><a href="./MovieMasher/GraphUtility.html">MovieMasher::GraphUtility</a>
  
    <li><a href="./MovieMasher/Hashable.html">MovieMasher::Hashable</a>
  
    <li><a href="./MovieMasher/HttpDownloadService.html">MovieMasher::HttpDownloadService</a>
  
    <li><a href="./MovieMasher/HttpUploadService.html">MovieMasher::HttpUploadService</a>
  
    <li><a href="./MovieMasher/HttpsDownloadService.html">MovieMasher::HttpsDownloadService</a>
  
    <li><a href="./MovieMasher/HttpsUploadService.html">MovieMasher::HttpsUploadService</a>
  
    <li><a href="./MovieMasher/Info.html">MovieMasher::Info</a>
  
    <li><a href="./MovieMasher/InitService.html">MovieMasher::InitService</a>
  
    <li><a href="./MovieMasher/Input.html">MovieMasher::Input</a>
  
    <li><a href="./MovieMasher/Intermediate.html">MovieMasher::Intermediate</a>
  
    <li><a href="./MovieMasher/Job.html">MovieMasher::Job</a>
  
    <li><a href="./MovieMasher/Layer.html">MovieMasher::Layer</a>
  
    <li><a href="./MovieMasher/LayerColor.html">MovieMasher::LayerColor</a>
  
    <li><a href="./MovieMasher/LayerModule.html">MovieMasher::LayerModule</a>
  
    <li><a href="./MovieMasher/LayerRaw.html">MovieMasher::LayerRaw</a>
  
    <li><a href="./MovieMasher/LayerRawImage.html">MovieMasher::LayerRawImage</a>
  
    <li><a href="./MovieMasher/LayerRawVideo.html">MovieMasher::LayerRawVideo</a>
  
    <li><a href="./MovieMasher/LayerTheme.html">MovieMasher::LayerTheme</a>
  
    <li><a href="./MovieMasher/LayerTransition.html">MovieMasher::LayerTransition</a>
  
    <li><a href="./MovieMasher/Mash.html">MovieMasher::Mash</a>
  
    <li><a href="./MovieMasher/MetaReader.html">MovieMasher::MetaReader</a>
  
    <li><a href="./MovieMasher/Method.html">MovieMasher::Method</a>
  
    <li><a href="./MovieMasher/Output.html">MovieMasher::Output</a>
  
    <li><a href="./MovieMasher/Parameters.html">MovieMasher::Parameters</a>
  
    <li><a href="./MovieMasher/Path.html">MovieMasher::Path</a>
  
    <li><a href="./MovieMasher/QueueService.html">MovieMasher::QueueService</a>
  
    <li><a href="./MovieMasher/S3DownloadService.html">MovieMasher::S3DownloadService</a>
  
    <li><a href="./MovieMasher/S3UploadService.html">MovieMasher::S3UploadService</a>
  
    <li><a href="./MovieMasher/Service.html">MovieMasher::Service</a>
  
    <li><a href="./MovieMasher/ShellHelper.html">MovieMasher::ShellHelper</a>
  
    <li><a href="./MovieMasher/Source.html">MovieMasher::Source</a>
  
    <li><a href="./MovieMasher/SqsQueueService.html">MovieMasher::SqsQueueService</a>
  
    <li><a href="./MovieMasher/TimeRange.html">MovieMasher::TimeRange</a>
  
    <li><a href="./MovieMasher/Transfer.html">MovieMasher::Transfer</a>
  
    <li><a href="./MovieMasher/Trigger.html">MovieMasher::Trigger</a>
  
    <li><a href="./MovieMasher/Type.html">MovieMasher::Type</a>
  
    <li><a href="./MovieMasher/UploadService.html">MovieMasher::UploadService</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<p><img
src="https://rawgit.com/moviemasher/moviemasher.rb/master/README/logo-120x60.png"
/>] <strong><a
href="https://github.com/moviemasher/moviemasher.js">moviemasher.js</a> |
<a
href="https://github.com/moviemasher/angular-moviemasher">angular-moviemasher</a>
| moviemasher.rb</strong></p>

<p><em>Ruby library for mashing up video, images and audio utilizing FFmpeg
and Ecasound</em></p>

<h1 id="label-moviemasher.rb">moviemasher.rb<span><a href="#label-moviemasher.rb">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>Use moviemasher.rb to encode mashups of video, audio, and images together
with titles and other visual effects. Each transcoding <code>job</code>
specifies multiple media <code>inputs</code> to be encoded together into
one or more <code>outputs</code>, as well as metadata like where to find
source assets and where to put the final rendering.</p>
<ul><li>
<p><strong>join</strong> files together sequentially with trimming and
transitions</p>
</li><li>
<p><strong>mix</strong> audio tracks together with variable fading and looping</p>
</li><li>
<p><strong>composite</strong> visual tracks together with transformations and
chromakey</p>
</li><li>
<p><strong>add</strong> titling with your own fonts overtop other elements
translucently</p>
</li><li>
<p><strong>transfer</strong> media files to and from remote hosts using
authentication</p>
</li><li>
<p><strong>specify</strong> callbacks that alert your system of processing
milestones</p>
</li></ul>

<h3 id="label-Overview%3A+FFMpeg+%2B+Mash+%3D+Transcoder">Overview: FFMpeg + Mash = Transcoder<span><a href="#label-Overview%3A+FFMpeg+%2B+Mash+%3D+Transcoder">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The project aims to simplify common audio/video editing operations by
turning your job into a series of shell commands, and then overseeing their
execution. As part of job processing, media inputs can be downloaded from
remote hosts and rendered outputs can be uploaded as well. Using the same
request mechanisms, external systems can be alerted by <em>callbacks</em>
triggered when a job is started, during its processing and/or when it&#39;s
completed.</p>
<ul><li>
<p><strong>System Documentation:</strong> <a
href="http://moviemasher.com/docs/">MovieMasher.com</a></p>
</li><li>
<p><strong>Docker Image:</strong> <code>moviemasher/moviemasher.rb</code> <a
href="http://Dockerfile">(Dockerfile)</a></p>
</li></ul>

<p>In addition to the raw media assets (video, audio and images), jobs can
contain <em>mash</em> inputs that describe more complex compositing,
titling and other effects. The related <a
href="https://github.com/moviemasher/moviemasher.js">moviemasher.js</a>
project can be used to generate and display JSON formatted mash
descriptions within a web browser, and <a
href="https://github.com/moviemasher/angular-moviemasher">angular-moviemasher</a>
can be used to package these into job descriptions.</p>

<p>Jobs are provided to the system for processing in different ways, depending
on how it&#39;s been configured and deployed. At the lowest level, the <a
href="https://rawgit.com/moviemasher/moviemasher.rb/master/doc/MovieMasher.html#method-c-process">MovieMasher.process</a>
method is sent a job as a hash, a JSON/YAML formatted string or a local
path to one. The <a
href="https://rawgit.com/moviemasher/moviemasher.rb/master/doc/MovieMasher.html#method-c-process_queues">MovieMasher.process_queues</a>
method calls it with any jobs it finds while scanning a preconfigured watch
folder or queue. This scanning can be done for a certain number of seconds,
until no jobs are found, just once or forever. There are rake tasks for
each of these methods, to simplify calling from shell scripts, cron jobs
and other tasks.</p>

<h3 id="label-AWS+Integration">AWS Integration<span><a href="#label-AWS+Integration">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The system <em>optionally</em> supports <a
href="http://aws.amazon.com">Amazon Web Services</a> for media storage and
job queueing, through the ruby <a
href="https://github.com/aws/aws-sdk-ruby">aws-sdk</a> gem. The following
mechanisms are available through configuration or job options:</p>
<ul><li>
<p>An <a href="http://aws.amazon.com/s3/">S3</a> bucket can be a source for
inputs or a destination for outputs</p>
</li><li>
<p>An <a href="http://aws.amazon.com/sqs/">SQS</a> queue can be polled and
messages processed as jobs</p>
</li><li>
<p>An access key id/secret can be passed to AWS.config for authentication</p>
</li><li>
<p>Alternatively, environmental variables or an <a
href="http://aws.amazon.com/ec2/">EC2</a> role can authenticate</p>
</li></ul>

<p>Additionally, the <a
href="https://aws.amazon.com/marketplace/pp/B00QKW0P2A">Movie Masher
AMI</a> is launchable with OneClick in Marketplace as a deployment of all
related projects and supporting applications. It includes an upstart task
that executes <code>rake moviemasher:init</code> to merge any User Data
supplied in JSON format into the configuration plus a cron job that
continually executes <code>rake moviemasher:process_queues</code>, so
it&#39;s possible to run in a headless mode polling an SQS queue for jobs.
Without User Data, the instance will start up Apache and serve the
angular-moviemasher project for demonstration - the instance id acts as a
shared password.</p>

<h3 id="label-Docker+Usage">Docker Usage<span><a href="#label-Docker+Usage">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Docker&#39;s <a
href="https://registry.hub.docker.com/u/moviemasher/moviemasher.rb/">moviemasher/moviemasher.rb</a>
image is automatically built from the official <a
href="https://registry.hub.docker.com/_/ruby/">ruby</a> image, adding
builds of <a href="http://www.ffmpeg.org">FFmpeg</a>, <a
href="http://eca.cx/ecasound/">Ecasound</a> and supporting audio/visual
applications and libraries. It can be used to process jobs supplied
directly on the command line, or to grab them from a directory/queue -
either approach supports running in interactive or daemon mode. The
Dockerfile contains a <strong>VOLUME</strong> instruction for each
directory it works with, including <strong>queue_directory</strong> so that
job files residing on the host can be easily processed.</p>

<p>To display documentation of configuration options:
- <code>docker run -it
--rm moviemasher/moviemasher.rb moviemasher --help</code></p>

<p>To process jobs formatted in JSON/YAML or paths to them directly from the
command line:
- <code>docker run -it --rm moviemasher/moviemasher.rb
process &quot;JOB&quot; &quot;JOB&quot;</code></p>

<p>To process all JSON or YAML formatted jobs in directory &#39;my_jobs&#39;
residing on the host:</p>
<ul><li>
<p><code>docker run -it --rm -v my_jobs:/tmp/moviemasher/queue
moviemasher/moviemasher.rb</code></p>
</li></ul>

<p>To continually process jobs from container&#39;s queue volume:</p>
<ul><li>
<p><code>docker run -d -t --name=moviemasher moviemasher/moviemasher.rb
process_loop</code></p>
</li></ul>

<p>Note the <code>t</code> switch - it&#39;s required for Ecasound to function
properly. You&#39;ll need to subsequently execute <code>docker stop
moviemasher</code> and <code>docker rm moviemasher</code> to stop
processing and remove the container created.</p>

<p>To process a single job from an SQS queue:</p>
<ul><li>
<p><code>docker run -it --rm moviemasher/moviemasher.rb process_one
--queue_url=[URL] --aws_access_key_id=[ID]
--aws_secret_access_key=[SECRET]</code></p>
</li></ul>

<p>URL points to an existing SQS Queue that provides read/write access to the
owner of the access key with ID and SECRET. Messages can be in JSON or YAML
format. This example demonstrates overriding the configuration with command
line arguments - all commands support this. The
<strong>MOVIEMASHER_CONFIG</strong> environmental variable can also be set
to a configuration file residing on the container in JSON/YAML format,
though arguments take precedence.</p>

<p>When processing jobs in a directory or queue, the
<strong>process_seconds</strong> configuration option ultimately controls
how long polling continues and therefore how long the container runs. The
following values are supported:</p>
<ul><li>
<p>[N]: poll for N seconds, then exit</p>
</li><li>
<p>0: do not poll, just exit</p>
</li><li>
<p>-1: process a single job if found, then exit</p>
</li><li>
<p>-2: poll until no jobs remain, then exit</p>
</li><li>
<p>-3: poll until container stopped</p>
</li></ul>

<p>The Dockerfile specifies an <strong>ENTRYPOINT</strong> that provides
several convenience commands, but calls exec with any it doesn&#39;t
recognize so that containers behave as expected. The following commands are
supported:</p>
<ul><li>
<p>moviemasher (default): call <a
href="https://rawgit.com/moviemasher/moviemasher.rb/master/doc/MovieMasher.html#method-c-process_queues">MovieMasher.process_queues</a></p>
</li><li>
<p>process_one: call <a
href="https://rawgit.com/moviemasher/moviemasher.rb/master/doc/MovieMasher.html#method-c-process_queues">MovieMasher.process_queues</a>
with <strong>process_seconds</strong>=-1</p>
</li><li>
<p>process_all: call <a
href="https://rawgit.com/moviemasher/moviemasher.rb/master/doc/MovieMasher.html#method-c-process_queues">MovieMasher.process_queues</a>
with <strong>process_seconds</strong>=-2</p>
</li><li>
<p>process_loop: call <a
href="https://rawgit.com/moviemasher/moviemasher.rb/master/doc/MovieMasher.html#method-c-process_queues">MovieMasher.process_queues</a>
with <strong>process_seconds</strong>=-3</p>
</li><li>
<p>process: call <a
href="https://rawgit.com/moviemasher/moviemasher.rb/master/doc/MovieMasher.html#method-c-process">MovieMasher.process</a>
for each supplied argument</p>
</li></ul>

<h3 id="label-Requirements">Requirements<span><a href="#label-Requirements">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Tested in Ruby 1.9.3 and 2.1.5 (the <code>dockerfile/ruby</code> and
<code>ruby</code> docker images) and on multiple UNIX flavors including
OSX. Suggested audio/video libraries are only needed if you&#39;re decoding
or encoding in their formats. Likewise, the aws-sdk gem is only needed when
utilizing Amazon&#39;s services.</p>
<ul><li>
<p>Applications: <a href="http://www.ffmpeg.org">FFmpeg</a>, <a
href="http://eca.cx/ecasound/">Ecasound</a>, <a
href="http://sox.sourceforge.net">Sox</a></p>
</li><li>
<p>Ruby Gems: aws-sdk, builder, mime-types, multipart-post, require_all, uuid</p>
</li><li>
<p>Audio Libraries: mp3lame, ogg, opencore, samplerate, sndfile, speex,
theora, vorbis</p>
</li><li>
<p>Video Libraries: dirac, fontconfig, frei0r, fribidi, gd, openjpeg, vpx,
xvidcore, x264</p>
</li></ul>

<h3 id="label-How+to+Install">How to Install<span><a href="#label-How+to+Install">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Transcoding audio and video is extremely processor intensive, so while
installation might be possible on most machines it isn&#39;t reccommended
for all environments. In particular, running alongside a web server is only
practical for demonstration purposes. Typically in production a pool of
machines is deployed with each instance running a single process solely
engaged in transcoding.</p>
<ol><li>
<p>Review <a href="http://Dockerfile">Dockerfile</a> for commands that work on
the <code>ruby</code> image</p>
</li><li>
<p>Install av libraries for supported formats and codecs</p>
</li><li>
<p>Install sox, ecasound and ffmpeg applications (in that order)</p>
</li><li>
<p>Install ruby and bundler gem</p>
</li><li>
<p>To install required gems <code>cd</code> to project directory and execute:</p>
</li></ol>

<p><code>bundle install</code></p>
<ol><li>
<p>Edit config/config.yml configuration file to match paths on system and
configure logging/debugging options</p>
</li><li>
<p>To scan watch folder and/or queue for jobs <code>cd</code> to project
directory and execute:</p>
</li></ol>

<p><code>rake moviemasher:process_queues</code></p>
<ol><li>
<p><em>optionally</em> add crontab entry from config/aws/moviemasher.cron,
after checking its binary paths</p>
</li></ol>

<h3 id="label-User+Feedback">User Feedback<span><a href="#label-User+Feedback">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>If any problems arise while utilizing this repository, a <a
href="https://github.com/moviemasher/moviemasher.rb/issues">GitHub Issue
Ticket</a> should be filed. Please include the job description that&#39;s
causing problems and any relevant log entries - issues with callbacks can
typically be resolved faster after seeing entries from the receiving web
server&#39;s log. Please post your issue ticket in the appropriate
repository and refrain from cross posting - all projects are monitored with
equal zeal.</p>

<h3 id="label-Contributing">Contributing<span><a href="#label-Contributing">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Please join in the shareable economy by gifting your efforts towards
improving this project in any way you feel inclined. Pull requests for
fixes, features and refactorings are always appreciated, as are
documentation updates. Creative help with graphics, video and the web site
is also needed. Please contact through <a
href="https://moviemasher.com">MovieMasher.com</a> to discuss your ideas.</p>

<h4 id="label-Developer+Setup">Developer Setup<span><a href="#label-Developer+Setup">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Docker is used extensively to develop this project. Additionally, the spec
tests rely on the other two Movie Masher projects and the clientside_aws
project which should all be pulled into the same directory that contains
this repository:</p>
<ul><li>
<p><a href="https://github.com/moviemasher/moviemasher.js">moviemasher.js</a></p>
</li><li>
<p><a
href="https://github.com/moviemasher/angular-moviemasher">angular-moviemasher</a></p>
</li><li>
<p><a
href="https://github.com/perrystreetsoftware/clientside_aws">clientside_aws</a></p>
</li></ul>

<p>To run spec tests utilizing options from <code>.rspec</code> file:</p>
<ul><li>
<p><code>docker-compose -f config/docker/test/test.yml run --rm rspec</code></p>
</li></ul>

<p>All files generated by tests appear in <code>tmp/spec</code> sub
directories. Each job has its own log file in
<code>tmp/spec/temporary</code>.</p>

<p>To run rubocop with options
from
<code>config/docker/rubocop/rubocop-rules.yml</code>
file:</p>
<ul><li>
<p><code>docker-compose -f config/docker/rubocop/rubocop.yml run --rm
rubocop</code></p>
</li></ul>

<p>To rebuild Gemfile.lock from Gemfile:
- <code>docker-compose -f
config/docker/bundler/bundler.yml run --rm bundler</code></p>

<p>To have rdoc rebuild documentation in <code>docs</code> from source code:</p>
<ul><li>
<p><code>rdoc --visibility=public -o doc --main=&#39;Documentation.md&#39;
--fmt=darkfish --markup=tomdoc --tab-width=2 --no-dcov
--exclude=&#39;/spec&#39; --exclude=&#39;/log&#39;
--exclude=&#39;/Gemfile&#39; --exclude=&#39;/tmp&#39;
--exclude=&#39;/config&#39; --exclude=&#39;/index.rb&#39;
--exclude=&#39;/doc&#39; --exclude=&#39;/bin&#39;
--exclude=&#39;/Rakefile&#39; --exclude=&#39;/Docker&#39;
--exclude=&#39;/README-short&#39; --exclude=&#39;/LICENSE&#39;</code></p>
</li></ul>

<h5 id="label-Known+issues+in+this+version">Known issues in this version<span><a href="#label-Known+issues+in+this+version">&para;</a> <a href="#documentation">&uarr;</a></span></h5>
<ul><li>
<p>local/sqs import/export has not been thoroughly tested</p>
</li><li>
<p>archiving of outputs not yet supported</p>
</li><li>
<p>freeze frame not yet supported</p>
</li><li>
<p>audio still being done in Ecasound</p>
</li><li>
<p>audio spec tests not yet generating files from scratch</p>
</li></ul>

<h5 id="label-Migrating+from+Version+4.0.7">Migrating from Version 4.0.7<span><a href="#label-Migrating+from+Version+4.0.7">&para;</a> <a href="#documentation">&uarr;</a></span></h5>
<ul><li>
<p>The <code>length</code> key in clips has been renamed <code>frames</code>.</p>
</li><li>
<p>The <code>audio</code> and <code>video</code> keys in mash tracks have been
moved to mash.</p>
</li><li>
<p>The <code>tracks</code> key in mashes has been removed.</p>
</li><li>
<p>The <code>fps</code> key in outputs has been renamed
<code>video_rate</code>.</p>
</li><li>
<p>The <code>audio_frequency</code> key in outputs has been renamed
<code>audio_rate</code>.</p>
</li><li>
<p>The <code>trim</code> key in inputs has been renamed <code>offset</code>.</p>
</li><li>
<p>The new <code>mash</code> key in mash inputs should be used for embedded
mashes</p>
</li><li>
<p>The <code>source</code> key in mash inputs should only contain a source
object</p>
</li></ul>

</div>



<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

